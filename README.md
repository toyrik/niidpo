# Тестовое задание для НИИДПО

## Enveronment

- PHP 8
- MySQL 8
- jQuery
- UTF-8

## Goals

1. V Построить запросы по таблицам из sql-файла:
    1. Получить список клиентов из таблицы test_client, кто хоть раз совершил покупку.
    2. Получить список клиентов из таблицы test_client, кто совершил 2 и больше покупок. В дополнительной поле вывести название последнего купленного товара (по дате).
    3. Получить список товаров из таблицы test_product, которые ни разу не купили. 

2. V Устранить уязвимости от SQl- и XSS-инъекций в Карточке товара из приложенного php-файла.

3. V Используя регулярное выражение в PHP вырезать из описания товара (?prod_id=1) все теги в фигурных скобках (включая эти скобки) при вставке поля в textarea формы. В скобках может быть любой текст (кроме фигурных скобок), скобки могут располагаться в любой части текста. Каждый тег начинается и заканчивается фигурной скобкой.

4. С помощью кнопки “Уточнить цену” отправить аякс-запрос через jQuery в action = “get_prod_price”. В этом блоке отправить через POST-запрос CURL строку товара $row в json в блок action=“curl”. Из полученной в ответ строки товара в json цену со скидкой занести в переменную $price_with_discount.

5. В блоке action=“curl” получить строку товара в json, к цене товара применить скидку 1,5% и вернуть строку товара обратно в json. 
